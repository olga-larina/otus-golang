bash integration_tests/integration_tests.sh; \
    e=$?; \
    exit $e
[+] Building 25.5s (54/54) FINISHED                                                                                               docker:desktop-linux
 => [calendar_migrator internal] load build definition from Dockerfile                                                                            0.0s
 => => transferring dockerfile: 802B                                                                                                              0.0s
 => [calendar_sender internal] load metadata for docker.io/library/alpine:3.9                                                                     1.4s
 => [calendar_integration_tests internal] load metadata for docker.io/library/golang:1.22-alpine                                                  1.8s
 => [calendar_migrator internal] load .dockerignore                                                                                               0.0s
 => => transferring context: 2B                                                                                                                   0.0s
 => CACHED [calendar_integration_tests 1/7] FROM docker.io/library/golang:1.22-alpine@sha256:1a478681b671001b7f029f94b5016aed984a23ad99c707f6a0a  0.0s
 => [calendar_scheduler stage-1 1/3] FROM docker.io/library/alpine:3.9@sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011    0.0s
 => CACHED [calendar_migrator build 2/3] RUN apk add --no-cache git build-base                                                                    0.0s
 => CACHED [calendar_migrator build 3/3] RUN go install -ldflags '-extldflags "-static"' github.com/pressly/goose/v3/cmd/goose@v3.19.2            0.0s
 => CACHED [calendar_migrator stage-1 2/2] COPY --from=build /go/bin/goose /app/goose                                                             0.0s
 => [calendar_migrator] exporting to image                                                                                                        0.0s
 => => exporting layers                                                                                                                           0.0s
 => => writing image sha256:6690d44a1535652041c66262d8946dee4ef927cfe35edd2fec5a806e0239d35c                                                      0.0s
 => => naming to docker.io/library/calendar_migrator:develop                                                                                      0.0s
 => [calendar_sender internal] load build definition from Dockerfile                                                                              0.0s
 => => transferring dockerfile: 1.03kB                                                                                                            0.0s
 => [calendar internal] load build definition from Dockerfile                                                                                     0.0s
 => => transferring dockerfile: 1.01kB                                                                                                            0.0s
 => [calendar_scheduler internal] load metadata for docker.io/library/golang:1.22                                                                 0.2s
 => [calendar_scheduler internal] load build definition from Dockerfile                                                                           0.0s
 => => transferring dockerfile: 1.05kB                                                                                                            0.0s
 => [calendar_scheduler internal] load .dockerignore                                                                                              0.0s
 => => transferring context: 2B                                                                                                                   0.0s
 => [calendar internal] load .dockerignore                                                                                                        0.0s
 => => transferring context: 2B                                                                                                                   0.0s
 => [calendar_sender internal] load .dockerignore                                                                                                 0.0s
 => => transferring context: 2B                                                                                                                   0.0s
 => [calendar_scheduler build 1/7] FROM docker.io/library/golang:1.22@sha256:367bb5295d3103981a86a572651d8297d6973f2ec8b62f716b007860e22cbc25     0.0s
 => => resolve docker.io/library/golang:1.22@sha256:367bb5295d3103981a86a572651d8297d6973f2ec8b62f716b007860e22cbc25                              0.0s
 => [calendar internal] load build context                                                                                                        0.0s
 => => transferring context: 35.15kB                                                                                                              0.0s
 => [calendar_sender internal] load build context                                                                                                 0.0s
 => => transferring context: 35.15kB                                                                                                              0.0s
 => [calendar_scheduler internal] load build context                                                                                              0.0s
 => => transferring context: 35.15kB                                                                                                              0.0s
 => CACHED [calendar build 2/7] WORKDIR /go/src/                                                                                                  0.0s
 => CACHED [calendar_sender build 3/7] COPY go.mod .                                                                                              0.0s
 => CACHED [calendar_sender build 4/7] COPY go.sum .                                                                                              0.0s
 => CACHED [calendar_sender build 5/7] RUN go mod download                                                                                        0.0s
 => [calendar_sender build 6/7] COPY . /go/src/                                                                                                   0.3s
 => CACHED [calendar_scheduler build 3/7] COPY go.mod .                                                                                           0.0s
 => CACHED [calendar_scheduler build 4/7] COPY go.sum .                                                                                           0.0s
 => CACHED [calendar_scheduler build 5/7] RUN go mod download                                                                                     0.0s
 => [calendar_scheduler build 6/7] COPY . /go/src/                                                                                                0.3s
 => CACHED [calendar build 3/7] COPY go.mod .                                                                                                     0.0s
 => CACHED [calendar build 4/7] COPY go.sum .                                                                                                     0.0s
 => CACHED [calendar build 5/7] RUN go mod download                                                                                               0.0s
 => [calendar build 6/7] COPY . /go/src/                                                                                                          0.2s
 => [calendar build 7/7] RUN CGO_ENABLED=0 go build         -ldflags "$LDFLAGS"         -o /opt/calendar/calendar cmd/calendar/*                 16.5s
 => [calendar_scheduler build 7/7] RUN CGO_ENABLED=0 go build         -ldflags "$LDFLAGS"         -o /opt/scheduler/calendar_scheduler cmd/sche  15.6s
 => [calendar_sender build 7/7] RUN CGO_ENABLED=0 go build         -ldflags "$LDFLAGS"         -o /opt/sender/calendar_sender cmd/sender/*       15.6s
 => CACHED [calendar stage-1 2/3] RUN apk add --no-cache tzdata                                                                                   0.0s
 => CACHED [calendar_sender stage-1 3/3] COPY --from=build /opt/sender/calendar_sender /opt/sender/calendar_sender                                0.0s
 => [calendar_sender] exporting to image                                                                                                          0.0s
 => => exporting layers                                                                                                                           0.0s
 => => writing image sha256:ef710797a074bf3a9b30bca434d431335c142c6853d36797aa67e9a6327f8f61                                                      0.0s
 => => naming to docker.io/library/calendar_sender:develop                                                                                        0.0s
 => CACHED [calendar_scheduler stage-1 3/3] COPY --from=build /opt/scheduler/calendar_scheduler /opt/scheduler/calendar_scheduler                 0.0s
 => [calendar_scheduler] exporting to image                                                                                                       0.0s
 => => exporting layers                                                                                                                           0.0s
 => => writing image sha256:3ff761756fd3ddd7f5c3f573c7de25adc466462ae24e3ebbafb6d42ba7213481                                                      0.0s
 => => naming to docker.io/library/calendar_scheduler:develop                                                                                     0.0s
 => CACHED [calendar stage-1 3/3] COPY --from=build /opt/calendar/calendar /opt/calendar/calendar                                                 0.0s
 => [calendar] exporting to image                                                                                                                 0.0s
 => => exporting layers                                                                                                                           0.0s
 => => writing image sha256:4ac98ca141355f8e3202418e5aac227087461068af537d7295f10fae14bd1d06                                                      0.0s
 => => naming to docker.io/library/calendar:develop                                                                                               0.0s
 => [calendar_integration_tests internal] load build definition from Dockerfile                                                                   0.0s
 => => transferring dockerfile: 538B                                                                                                              0.0s
 => [calendar_integration_tests internal] load .dockerignore                                                                                      0.0s
 => => transferring context: 2B                                                                                                                   0.0s
 => [calendar_integration_tests internal] load build context                                                                                      0.0s
 => => transferring context: 4.86kB                                                                                                               0.0s
 => [calendar_integration_tests 2/7] RUN apk add --no-cache tzdata                                                                                0.8s
 => [calendar_integration_tests 3/7] WORKDIR /go/src/                                                                                             0.0s
 => [calendar_integration_tests 4/7] COPY go.mod .                                                                                                0.0s
 => [calendar_integration_tests 5/7] COPY go.sum .                                                                                                0.0s
 => [calendar_integration_tests 6/7] RUN go mod download                                                                                          5.0s
 => [calendar_integration_tests 7/7] COPY . /go/src/                                                                                              0.1s
 => [calendar_integration_tests] exporting to image                                                                                               0.4s
 => => exporting layers                                                                                                                           0.3s
 => => writing image sha256:93e34b9a5253f99f115d6d94566b5e82154630ea2e2b70de26a30a2e18572c6c                                                      0.0s
 => => naming to docker.io/library/calendar_integration_tests:develop                                                                             0.0s
[+] Running 8/8
 ✔ Network deployments_default                 Created                                                                                            0.0s 
 ✔ Container deployments-db-1                  Healthy                                                                                           10.9s 
 ✔ Container deployments-rabbitmq-1            Healthy                                                                                           11.6s 
 ✔ Container deployments-calendar_migrator-1   Exited                                                                                            11.5s 
 ✔ Container deployments-calendar-1            Started                                                                                           11.6s 
 ✔ Container deployments-calendar_sender-1     Started                                                                                           11.6s 
 ✔ Container deployments-calendar_scheduler-1  Started                                                                                           11.6s 
 ✔ Container calendar_integration_tests        Started                                                                                           11.7s 
=== RUN   TestIntegrationTestSuite
=== PAUSE TestIntegrationTestSuite
=== CONT  TestIntegrationTestSuite
{"time":"2024-08-15T16:53:30.33337797+03:00","level":"INFO","msg":"suite started"}
=== RUN   TestIntegrationTestSuite/TestEventClear
=== RUN   TestIntegrationTestSuite/TestEventNotification
=== RUN   TestIntegrationTestSuite/TestGrpcListEvents
=== RUN   TestIntegrationTestSuite/TestGrpcProcessEvent
=== RUN   TestIntegrationTestSuite/TestHttpListEvents
=== RUN   TestIntegrationTestSuite/TestHttpProcessEvent
{"time":"2024-08-15T16:53:45.480443213+03:00","level":"INFO","msg":"suite finished"}
--- PASS: TestIntegrationTestSuite (15.15s)
    --- PASS: TestIntegrationTestSuite/TestEventClear (10.10s)
    --- PASS: TestIntegrationTestSuite/TestEventNotification (5.02s)
    --- PASS: TestIntegrationTestSuite/TestGrpcListEvents (0.01s)
    --- PASS: TestIntegrationTestSuite/TestGrpcProcessEvent (0.00s)
    --- PASS: TestIntegrationTestSuite/TestHttpListEvents (0.01s)
    --- PASS: TestIntegrationTestSuite/TestHttpProcessEvent (0.00s)
PASS
ok      github.com/olga-larina/otus-golang/hw12_13_14_15_calendar/integration_tests     15.157s
[+] Running 10/10
 ✔ Container calendar_integration_tests        Removed                                                                                            0.0s 
 ✔ Container deployments-calendar_sender-1     Removed                                                                                            0.2s 
 ✔ Container deployments-calendar-1            Removed                                                                                            0.2s 
 ✔ Container deployments-calendar_scheduler-1  Removed                                                                                            0.2s 
 ✔ Container deployments-calendar_migrator-1   Removed                                                                                            0.0s 
 ✔ Container deployments-rabbitmq-1            Removed                                                                                            1.2s 
 ✔ Container deployments-db-1                  Removed                                                                                            0.1s 
 ✔ Volume deployments_calendar-data            Removed                                                                                            0.1s 
 ✔ Volume deployments_rabbitmq-data            Removed                                                                                            0.1s 
 ✔ Network deployments_default                 Removed                                                                                            0.1s 
Exit code: 0